/* FitHabit – CSS do tema (gerado a partir do SCSS). 
   Observação: a folha do Materialize padrão deve ser carregada antes desta. */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

:root{
  --fh-primary:#2DDC9A; /* energia, progresso */
  --fh-secondary:#0A2419; /* texto base */
  --fh-success:#22C55E; --fh-warning:#F59E0B; --fh-error:#EF4444; --fh-info:#0EA5E9;
  --fh-surface:#F8FAFC; --fh-border:#E5E7EB; --fh-subtitle:#334155;

  /* Padding lateral padrão em mobile para alinhar conteúdo do dashboard */
  --fh-page-padding-mobile:16px;
}

html{font-family:'Inter','Manrope',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
body{color:var(--fh-secondary);background-color:var(--fh-surface)}
.use-tnum{font-feature-settings:"tnum"}

/* Navbar fixa */
.navbar-fixed .nav-wrapper{box-shadow:none}
.nav-wrapper a{color:#0A2419!important}
nav.white, nav{background-color:var(--fh-surface)!important; box-shadow:none}

/* Layout principal da navbar: logo à esquerda, título centralizado, switch/avatar à direita */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  height:64px;
  padding:0;              /* espaçamentos vão nas laterais específicas */
  box-sizing:border-box;
}

.topbar-left,
.topbar-center,
.topbar-right{
  display:flex;
  align-items:center;
}

/* Laterais com largura automática (apenas o conteúdo) */
.topbar-left,
.topbar-right{
  flex:0 0 auto;
  align-items:center;
}

/* Centro ocupa o espaço restante e centraliza o título */
.topbar-center{
  flex:1 1 auto;
  justify-content:center;
  text-align:center;
}

.topbar-title{
  font-size:1rem;
  font-weight:600;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  color:var(--fh-theme-nav-link, #0A2419);
  margin:0;
}

/* Links de navegação do desktop dentro da topbar (escondidos em mobile/tablet) */
.desktop-nav-links{
  display:none;
}

/* Logo imagem na navbar */
/* Logo no navbar — alinha e evita corte */
nav .brand-logo{
  display:flex;
  align-items:center;
  height:64px;
  position:static; /* evita comportamento absoluto do Materialize */
  margin-left:0;
  left:0;
  transform:none;
}
.navbar-logo-img,
.topbar-logo{
  height:44px;   /* tamanho padrão em desktop, mais proporcional ao título */
  width:auto;
  display:block;
}
@media (max-width: 600px){
  .navbar-logo-img,
  .topbar-logo{
    height:32px; /* levemente menor em telas bem estreitas, ainda bem visível */
  }
  .topbar-title{
    font-size:0.9rem;
  }
}

/* Espaçamentos laterais da logo e do switch (desktop + mobile) */
.topbar-left{
  padding-left:20px;
}
.topbar-right{
  padding-right:20px;
}

@media (max-width: 600px){
  .topbar-left{
    padding-left:20px;
  }
  .topbar-right{
    padding-right:20px;
  }
}

/* ------------------------------------------------------------------
   Layout específico para tablets (entre 600px e 1024px)
   ------------------------------------------------------------------ */
@media (min-width: 600px) and (max-width: 1024px){
  /* Navbar: pequenos ajustes de escala para tablet */
  .topbar-title{
    font-size:0.95rem;
  }
  .navbar-logo-img,
  .topbar-logo{
    height:38px;
  }

  /* Conteúdo geral: respiro lateral um pouco menor que desktop */
  .page-content{
    padding-left:24px;
    padding-right:24px;
  }

  /* Dashboard: garante boa leitura dos cards em tablet */
  .dashboard-page .stats-card .card-content{
    padding-left:16px;
    padding-right:16px;
  }
  .dashboard-page .progress-summary-card{
    max-width:840px;
    margin-left:auto;
    margin-right:auto;
  }
  .dashboard-page .chart-card{
    max-width:840px;
    margin-left:auto;
    margin-right:auto;
  }

  /* Container de gráfico no dashboard e relatórios com altura confortável */
  .habits-chart-container{
    height:260px;
    min-height:240px;
  }
  .grafico-container,
  .reports-chart-container{
    height:280px;
  }

  /* Hábitos: cards principais com largura confortável em tablet */
  .habits-page .habit-form-card,
  .habits-page .habit-table-card{
    max-width:900px;
    margin-left:auto;
    margin-right:auto;
  }

  /* Relatórios: calendário + gráfico alinhados e centrados em tablet */
  .reports-page .calendar-card,
  .reports-page .chart-card{
    max-width:900px;
    margin-left:auto;
    margin-right:auto;
  }
}

/* ------------------------------------------------------------------
   Mobile + Tablet (601px–1400px): layout estilo mobile, mas
   na aba Hábitos mantém 2 colunas lado a lado (form + cards)
   ------------------------------------------------------------------ */
@media (min-width: 601px) and (max-width: 1400px){
  /* Aba Hábitos: mantém estrutura lateral (form à esquerda, lista à direita) */
  .page-habitos [role="region"][aria-label="Gestão de hábitos"]{
    display:flex;
    flex-direction:row;
    align-items:flex-start;
    gap:24px;
  }

  /* Coluna do formulário (esquerda) */
  .page-habitos aside[aria-label="Criar novo hábito"],
  .page-habitos .habits-form-column{
    flex:0 0 35%;
    max-width:400px;
  }

  /* Coluna da listagem (direita) – cards de hábitos */
  .page-habitos section[aria-label="Lista de hábitos"],
  .page-habitos .habits-list-column{
    flex:1 1 auto;
    min-width:0;
  }

  /* Páginas em modo "tablet": conteúdo centralizado com largura confortável */
  .dashboard-page.container,
  .habits-page.container,
  .reports-page.container{
    max-width:960px;
    margin:0 auto;
  }
}
/* Avatar e links na navbar alinhados ao centro da linha */
nav .nav-wrapper ul.right li a{
  display:flex;
  align-items:center;
  height:64px;
  padding-top:0;
  padding-bottom:0;
  position:relative;
}
nav .nav-wrapper ul.right li a img{display:block;height:36px;width:36px;border-radius:50%}

/* Switch de tema na navbar */
.navbar-theme-toggle{
  display:flex;
  align-items:center;
  height:64px;
}

.theme-toggle-wrapper{
  display:flex;
  align-items:center;     /* centraliza verticalmente dentro da navbar */
  justify-content:center; /* centraliza horizontalmente no espaço dele */
  height:100%;
  margin:0 8px;           /* pequeno respiro lateral */
  padding:0;
}

.switch{
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.checkbox{
  display:none;
}
.slider{
  width:40px;
  height:20px;
  background-color:lightgray;
  border-radius:20px;
  overflow:hidden;
  display:flex;
  align-items:center;
  border:3px solid transparent;
  transition:0.3s;
  box-shadow:0 0 6px 0 rgba(0,0,0,0.25) inset;
  cursor:pointer;
}
/* “bolinha” interna */
.slider::before{
  content:"";
  display:block;
  width:100%;
  height:100%;
  background-color:#fff;
  transform:translateX(-20px); /* metade da largura */
  border-radius:20px;
  transition:0.3s;
  box-shadow:0 0 6px 2px rgba(0,0,0,0.25);
}
/* Estado marcado = tema escuro */
.checkbox:checked ~ .slider::before{
  transform:translateX(20px);
  box-shadow:0 0 6px 2px rgba(0,0,0,0.25);
}
/* Usa o verde padrão do FitHabit em vez de azul */
.checkbox:checked ~ .slider{
  background-color:var(--accent, #2DDC9A);
}
/* Clique rápido na bolinha */
.checkbox:active ~ .slider::before{
  transform:translate(0);
}

/* Avatares (navbar + perfil) */
[data-profile-avatar]{
  border-radius:50%;
  background:#E5E7EB;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  background-size:cover;
  background-position:center;
}
.navbar-avatar{
  width:36px;
  height:36px;
}
.profile-avatar-lg{
  width:120px;
  height:120px;
  margin:0 auto 0.75rem auto;
}
.profile-avatar-icon{
  color:#64748B;
  font-size:30px;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* Avatar na navbar como link para o perfil */
.navbar-avatar-link{
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.navbar-avatar-link .navbar-avatar{
  border-radius:50%;
  border:2px solid transparent;
  transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.navbar-avatar-link:hover .navbar-avatar{
  transform:translateY(-1px);
  box-shadow:0 4px 10px rgba(15,23,42,0.35);
}

/* Estado ativo do avatar na página de perfil */
body.page-perfil .navbar-avatar-link .navbar-avatar{
  border-color:var(--fh-primary, #2DDC9A);
  box-shadow:0 0 0 2px rgba(45,220,154,0.3);
}

/* Layout geral da página de perfil: centraliza o card na viewport */
.profile-container{
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:calc(100vh - 140px); /* considera navbar + possível bottom nav */
}

/* Card base com efeito de vidro (glassmorphism) reutilizável */
.app-glass-card{
  padding:0;
  border-radius:24px;
  border:1px solid var(--fh-glass-border, rgba(255,255,255,0.65));
  background:var(--fh-glass-bg, linear-gradient(135deg, rgba(255,255,255,0.88), rgba(230,244,255,0.7)));
  box-shadow:0 18px 45px var(--fh-glass-shadow, rgba(15,23,42,0.18));
  backdrop-filter:blur(22px);
  -webkit-backdrop-filter:blur(22px);
}

/* Card específico de perfil: controla largura e espaçamento interno */
.profile-card{
  width:100%;
  max-width:400px;
  margin:0 auto;
  padding:32px 32px 36px;
}

/* Ajustes contextuais para outros cards de vidro */
.habit-form-card{
  padding:24px 24px 28px;
}

.habit-table-card{
  padding:16px 0 0;
}

.calendar-card,
.chart-card{
  padding:24px 24px 28px;
}

.stats-card{
  padding:20px 20px 24px;
}

.progress-summary-card{
  margin-top:16px;
  padding:20px 20px 24px;
}

/* Botão "Criar Novo Hábito" no card de progresso do dia */
.dashboard-cta-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  margin:0 auto; /* centraliza dentro do card */
}

/* Botão "SALVAR" no formulário de hábitos: replica o estilo de CTA principal,
   mas ocupa praticamente toda a largura interna do card em todas as larguras */
.habit-cta-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:100%;
  max-width:100%;
  margin:0 auto;
}

@media (max-width: 600px){
  .dashboard-cta-btn{
    width:100%;      /* ocupa toda a largura útil do card no mobile */
    max-width:none;
  }
}

/* Hierarquia tipográfica (levemente menor) */
h1{font-size:1.75rem; font-weight:700; letter-spacing:-0.01em}
h2{font-size:1.25rem; font-weight:600}
.card-title{font-size:1.25rem}

/* Container padrão das páginas (distância da navbar + conteúdo) */
.page-content{
  padding-top:32px;   /* mesmo espaçamento vertical do index (Dashboard) */
  padding-left:40px;
  padding-right:40px;
}
@media (max-width: 600px){
  /* Dashboard (mobile): cards em full width encostados nas laterais */
  .dashboard-page{
    padding-left:0;
    padding-right:0;
  }
  .dashboard-page.container{
    width:100%;
    max-width:none;
  }
  /* Título principal "Progresso do Dia" alinhado com o conteúdo dos cards */
  .dashboard-page > .section-header{
    margin-left:var(--fh-page-padding-mobile);
    margin-right:var(--fh-page-padding-mobile);
  }
  /* Títulos de seção de primeiro nível dentro do dashboard (como "Estatísticas") */
  .dashboard-page section > .section-header{
    margin-left:var(--fh-page-padding-mobile);
    margin-right:var(--fh-page-padding-mobile);
  }
  /* Cards encostados, conteúdo interno alinhado pela mesma coluna */
  .dashboard-page .card{
    margin-left:0;
    margin-right:0;
  }
  /* Remove padding lateral extra de cards específicos no dashboard para alinhar com o header */
  .dashboard-page .chart-card,
  .dashboard-page .stats-card{
    padding-left:0;
    padding-right:0;
  }
  .dashboard-page .card .card-content{
    padding-left:var(--fh-page-padding-mobile);
    padding-right:var(--fh-page-padding-mobile);
  }
  /* Card de progresso diário não usa .card-content, então aplicamos direto */
  .dashboard-page .progress-summary-card{
    padding-left:var(--fh-page-padding-mobile);
    padding-right:var(--fh-page-padding-mobile);
  }

  /* Hábitos (mobile): replica alinhamento lateral do dashboard */
  .habits-page{
    padding-left:0;
    padding-right:0;
  }
  .habits-page.container{
    width:100%;
    max-width:none;
  }
  /* Título "Cadastrar Hábito" alinhado com a mesma coluna do dashboard */
  .habits-page > .section-header{
    margin-left:var(--fh-page-padding-mobile);
    margin-right:var(--fh-page-padding-mobile);
  }
  /* Cards "Criar Novo Hábito" e "Hábitos Cadastrados" encostados com conteúdo alinhado */
  .habits-page .habit-form-card,
  .habits-page .habit-table-card{
    padding-left:0;
    padding-right:0;
  }
  /* Todos os cards da página de Hábitos ocupam 100% da largura, colados nas laterais */
  .habits-page .card{
    margin-left:0;
    margin-right:0;
  }
  .habits-page .habit-form-card .card-content,
  .habits-page .habit-table-card .card-content{
    padding-left:var(--fh-page-padding-mobile);
    padding-right:var(--fh-page-padding-mobile);
  }
  /* Header da tabela "Hábitos Cadastrados" alinhado com a tabela e demais conteúdos */
  .habits-page .habit-table-card .table-head{
    padding-left:var(--fh-page-padding-mobile);
    padding-right:var(--fh-page-padding-mobile);
  }
}
/* Primeiro header principal da página (com barrinha verde) */
.page-content > .section-header:first-of-type{
  margin-top:0;
  margin-bottom:16px; /* leve respiro global entre título+subtítulo e o conteúdo abaixo */
}

/* Título de seção com barra/pill verde contínua à esquerda (dashboard + cards) */
.section-header{
  display:flex;
  align-items:stretch;
  gap:0.75rem;
}
.section-header-accent{
  width:6px;
  border-radius:999px;
  background:linear-gradient(180deg,#2DDC9A,#9FFFE0);
  box-shadow:0 0 0 4px rgba(45,220,154,0.15);
  flex-shrink:0;
  align-self:stretch; /* faz a barra acompanhar toda a altura do bloco de texto */
}
.section-header-content{
  display:flex;
  flex-direction:column;
  gap:.15rem;
}
.section-header-content h1,
.section-header-content h2,
.section-header-content p{
  margin-top:0;
  margin-bottom:4px;
}
.section-header-title{
  font-size:1.75rem;
  font-weight:700;
  letter-spacing:-0.01em;
  margin:0;
}
.section-header-subtitle{
  font-size:2rem;
  font-weight:700;
  margin:0;
}

/* Utilitários de visibilidade responsiva para layouts duplicados (tabela x cards) */
.desktop-only{display:block;}
.mobile-only{display:none;}

/* Hábitos Cadastrados: wrappers específicos de tabela (desktop) e cards (mobile/tablet) */
.habitos-tabela-wrapper{display:block;}
.habitos-cards-wrapper{display:none;}

/* Mobile + Tablet (até 1400px): usar apenas cards (estilo mobile) na aba Hábitos */
@media (max-width: 1400px){
  .desktop-only{display:none;}
  .mobile-only{display:block;}

  .habitos-tabela-wrapper{display:none;}
  .habitos-cards-wrapper{display:block;}
}

/* ----------------------- Ajustes de desktop (>= 1025px) ----------------------- */
@media (min-width: 1025px){
  /* Wrapper da tabela ocupa toda a largura interna do card, sem corte à esquerda */
  .habits-page .habitos-tabela{
    width:100%;
    max-width:100%;
    overflow:visible;
  }

  /* Card da tabela nunca pode cortar o conteúdo (Editar/Excluir) */
  .habits-page .habit-table-card,
  .habits-page .habit-table-card .card-content{
    overflow:visible;
  }

  /* Garante que o conteúdo da tabela respeite o mesmo recuo interno do card */
  .habits-page .habit-table-card .card-content{
    padding-left:16px;
    padding-right:16px;
  }

  /* Primeiro cabeçalho/célula com padding extra para não grudar na borda */
  .habits-page #habits-table th:first-child,
  .habits-page #habits-table td:first-child{
    padding-left:16px;
  }

  /* Espaço horizontal entre Status (penúltima) e Ação (última) */
  .habits-page #habits-table th:nth-last-child(2),
  .habits-page #habits-table td:nth-last-child(2){
    padding-right:12px;  /* respiro depois do badge de status */
  }

  /* Coluna "Ação" com largura suficiente para Editar/Excluir */
  .habits-page #habits-table th:last-child,
  .habits-page #habits-table td:last-child{
    width:150px;
    white-space:nowrap;
    text-align:center; /* título e células de Ação centralizados na coluna */
    padding-left:12px;  /* respiro antes dos botões Editar/Excluir */
    padding-right:0;
  }

  .habits-page .fh-table-actions{
    display:flex;
    flex-direction:column;  /* um em cima do outro */
    align-items:center;     /* centraliza dentro da coluna */
    gap:4px;
    flex-wrap:nowrap;
  }

  .habits-page .fh-table-actions .fh-table-link{
    flex:0 0 auto;
    background:transparent;
    border:none;
    padding:0;
    border-radius:0;
    font-size:0.8rem;
    font-weight:600;
    cursor:pointer;
    box-shadow:none;
    transform:none;
  }

  /* Editar – azul (texto) */
  .habits-page .fh-table-actions .fh-table-link:not(.fh-table-link-danger){
    color:#2196f3;
  }

  /* Excluir – vermelho (texto) */
  .habits-page .fh-table-actions .fh-table-link-danger{
    color:#f97373;
  }

  .habits-page .fh-table-actions .fh-table-link:hover,
  .habits-page .fh-table-actions .fh-table-link-danger:hover{
    text-decoration:underline;
  }
}

/* Versão mobile da lista de hábitos (cards) */
.habits-cards-mobile{
  display:flex;
  flex-direction:column;
  gap:1rem;
  margin-top:1rem;
}
.habits-cards-mobile .habit-card{
  border-radius:24px;
  border:1px solid var(--fh-glass-border, rgba(255,255,255,0.65));
  background:var(--fh-glass-bg, linear-gradient(135deg, rgba(255,255,255,0.88), rgba(230,244,255,0.7)));
  box-shadow:0 18px 45px var(--fh-glass-shadow, rgba(15,23,42,0.18));
  backdrop-filter:blur(22px);
  -webkit-backdrop-filter:blur(22px);
  padding:16px 18px 18px;
}
.habits-cards-mobile .habit-card-header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:.75rem;
  margin-bottom:.5rem;
}
.habits-cards-mobile .habit-card-title{
  font-size:1.45rem;      /* mesmo tamanho do título "Hábitos Cadastrados" */
  font-weight:700;        /* mesmo peso do título de seção */
  margin:0;
}
.habits-cards-mobile .habit-card-meta{
  font-size:.9rem;
  color:var(--fh-subtitle);
  margin:.1rem 0;
}
.habits-cards-mobile .habit-card-footer{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:.75rem;
}
.habits-cards-mobile .habit-card-actions{
  display:inline-flex;
  align-items:center;
  gap:.75rem;
}

@media (max-width: 768px){
  /* Garante respiro no final da lista de cards de hábitos no mobile */
  .habits-cards-mobile{
    padding-bottom:1rem;
  }

  /* Ações dos cards mobile de hábitos: botões pill touch-friendly */
  .habits-cards-mobile .habit-card-actions-mobile{
    display:flex;
    gap:0.75rem;
    margin-top:0.75rem;
  }

  /* Status dos cards mobile: mesmo tamanho dos botões de ação */
  .habits-cards-mobile .habit-status-badge{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    padding:0.4rem 1.1rem;
    border-radius:999px;
    font-size:0.85rem;
    font-weight:600;
    min-width:120px;
    border:2px solid transparent;
    background:rgba(255,255,255,0.9);
  }
  .habits-cards-mobile .habit-status-concluido{
    border-color:rgba(45,220,154,0.35);           /* mesmo verde do chip CONCLUÍDO */
    color:var(--fh-primary, #2DDC9A);
    background:rgba(45,220,154,0.08);
  }
  .habits-cards-mobile .habit-status-nao-concluido{
    border-color:rgba(148,163,184,0.5);           /* cinza suave, alinhado ao pending */
    color:#cbd5e1;
    background:#f8fafc;
  }
}

/* Botões de ação dos cards de hábitos (mobile + tablet) */
.habits-cards-mobile .habit-card-actions-mobile{
  display:flex;
  gap:0.75rem;
  margin-top:0.75rem;
  flex-wrap:wrap; /* permite quebrar em telas muito estreitas */
}

.habits-cards-mobile .habit-action-btn{
  padding:0.4rem 1.1rem;
  border-radius:999px;
  font-size:0.85rem;
  font-weight:600;
  border:1.5px solid transparent;
  background:rgba(255,255,255,0.9);
  cursor:pointer;
  outline:none;
  transition:0.2s ease;
}
.habits-cards-mobile .habit-action-btn:link,
.habits-cards-mobile .habit-action-btn:visited{
  text-decoration:none;
}
.habits-cards-mobile .habit-action-btn:hover,
.habits-cards-mobile .habit-action-btn:focus-visible{
  transform:translateY(-1px);
  box-shadow:0 6px 12px rgba(0,0,0,0.12);
}

/* Editar – azul (mesmo tom usado originalmente no mobile) */
.habits-cards-mobile .habit-action-btn--edit,
.habits-cards-mobile .btn-habit-edit{
  border-color:#2196f3;
  color:#2196f3;
  background:rgba(33,150,243,0.06);
}

/* Excluir – vermelho suave */
.habits-cards-mobile .habit-action-btn--delete,
.habits-cards-mobile .btn-habit-delete{
  border-color:#f97373;
  color:#f97373;
  background:rgba(248,113,113,0.08);
}

/* Tema escuro para botões dos cards */
:root[data-theme="dark"] .habits-page .habit-action-btn{
  background:rgba(4,10,25,0.9);
}
:root[data-theme="dark"] .habits-page .habit-action-btn--edit,
:root[data-theme="dark"] .habits-page .btn-habit-edit{
  background:rgba(33,150,243,0.18);
}
:root[data-theme="dark"] .habits-page .habit-action-btn--delete,
:root[data-theme="dark"] .habits-page .btn-habit-delete{
  background:rgba(248,113,113,0.16);
}

/* Botões Editar/Excluir na tabela de hábitos (desktop) – mesmo estilo */
.habits-page .fh-table-actions .fh-table-link{
  padding:0.3rem 0.9rem;
  border-radius:999px;
  font-size:0.8rem;
  font-weight:600;
  border:1.5px solid transparent;
  background:rgba(255,255,255,0.9);
  cursor:pointer;
  outline:none;
  transition:0.2s ease;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.habits-page .fh-table-actions .fh-table-link:hover,
.habits-page .fh-table-actions .fh-table-link:focus-visible{
  transform:translateY(-1px);
  box-shadow:0 6px 12px rgba(0,0,0,0.12);
}

/* Editar na tabela – azul (mesma cor dos cards mobile) */
.habits-page .fh-table-actions .fh-table-link:not(.fh-table-link-danger),
.habits-page .btn-habit-edit{
  border-color:#2196f3;
  color:#2196f3;
  background:rgba(33,150,243,0.06);
}

/* Excluir na tabela – vermelho suave */
.habits-page .fh-table-actions .fh-table-link-danger,
.habits-page .btn-habit-delete{
  border-color:#f97373;
  color:#f97373;
  background:rgba(248,113,113,0.08);
}

:root[data-theme="dark"] .habits-page .fh-table-actions .fh-table-link{
  background:rgba(4,10,25,0.9);
}
:root[data-theme="dark"] .habits-page .fh-table-actions .fh-table-link:not(.fh-table-link-danger),
:root[data-theme="dark"] .habits-page .btn-habit-edit{
  background:rgba(33,150,243,0.18);
}
:root[data-theme="dark"] .habits-page .fh-table-actions .fh-table-link-danger,
:root[data-theme="dark"] .habits-page .btn-habit-delete{
  background:rgba(248,113,113,0.16);
}

/* -------------------------
   Ajustes específicos mobile
   ------------------------- */

/* Hábitos + Dashboard: ajustes de layout no mobile (até tablets menores) */
@media (max-width: 768px){
  /* Dashboard: remove o espaçamento extra do bloco vazio antes do header
     para alinhar "Progresso do Dia" com o topo da página de Hábitos */
  .dashboard-page > .section[aria-live="polite"]{
    margin:0;
    padding:0;
  }
  /* Dashboard: cards colados nas laterais, com conteúdo alinhado ao padrão global */
  .dashboard-page{
    padding-left:0;
    padding-right:0;
  }
  .dashboard-page.container{
    width:100%;
    max-width:none;
  }
  .dashboard-page .card{
    margin-left:0;
    margin-right:0;
    width:100%;
  }
  .dashboard-page .card .card-content{
    padding-left:var(--fh-page-padding-mobile);
    padding-right:var(--fh-page-padding-mobile);
  }
  /* Card de progresso diário não usa .card-content, então aplicamos direto */
  .dashboard-page .progress-summary-card{
    padding-left:var(--fh-page-padding-mobile);
    padding-right:var(--fh-page-padding-mobile);
  }

  /* Cards colados nas laterais, mantendo visual de vidro e o mesmo border-radius
     padrão dos demais cards de vidro (definido em .app-glass-card) */
  .page-habitos .card{
    margin-left:0;
    margin-right:0;
    width:100%;
  }
  /* Conteúdo interno com mesmo recuo lateral dos títulos com barrinha verde */
  .page-habitos .card .card-content,
  .page-habitos .card-content{
    padding-left:var(--fh-page-padding-mobile);
    padding-right:var(--fh-page-padding-mobile);
  }

  /* Relatórios: cards colados nas laterais, com conteúdo alinhado ao padrão */
  .reports-page{
    padding-left:0;
    padding-right:0;
    width:100%;
    max-width:none;
  }
  .calendar-card,
  .chart-card{
    margin-left:0;
    margin-right:0;
    width:100%;
  }
  .calendar-card .card-content,
  .chart-card .card-content{
    padding-left:var(--fh-page-padding-mobile);
    padding-right:var(--fh-page-padding-mobile);
  }
  /* Título "Relatórios" alinhado com a mesma coluna dos demais títulos principais */
  .reports-page > .section-header{
    margin-left:var(--fh-page-padding-mobile);
    margin-right:var(--fh-page-padding-mobile);
  }
}

/* Card específico do gráfico de relatórios – ocupa toda a largura disponível */
.relatorio-grafico-card{
  max-width:100%;
  width:100%;
  box-sizing:border-box;
}

.relatorio-grafico-card .card-content{
  padding-left:1rem;
  padding-right:1rem;
}

@media (max-width: 600px){
  .relatorio-grafico-card .card-content{
    padding-left:0.5rem;
    padding-right:0.5rem;
  }
  .grafico-container{
    margin-inline:0;
  }
}

/* Variante de header dentro de modal (menos margem inferior) */
.section-header--modal{
  margin-bottom:16px;
}

/* Layout compacto e arredondado do modal de edição de perfil */
#editProfileModal.modal{
  max-width:640px;
  width:90%;
  border-radius:16px;
  overflow:hidden;
  padding-bottom:12px; /* cria respiro interno geral na parte de baixo */
}
#editProfileModal .modal-content{
  padding:24px 32px;
}
/* Footer do modal de perfil: espaçamento claro e botões alinhados à direita */
#editProfileModal .modal-footer{
  height:auto;                 /* nada de altura fixa */
  border-top:none;
  background:transparent;

  padding:16px 32px 32px;      /* top | laterais | bottom (maior pra afastar da borda) */
  margin:0;                    /* sem margin colando na borda */

  display:flex;
  justify-content:flex-end;
  align-items:center;
  gap:16px;                    /* espaço entre CANCELAR e SALVAR */
}

@media (max-width: 600px){
  #editProfileModal.modal{
    max-width:95%;
    width:95%;
  }
  #editProfileModal .modal-content{
    padding:20px;
  }
  #editProfileModal .modal-footer{
    padding:12px 20px 24px; /* mantém bottom maior mesmo no mobile */
  }
}
/* Cabeçalho da seção de progresso de hábitos no dashboard */
.habits-header-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
  margin-top:8px;     /* respiro leve dentro do card de vidro */
  margin-bottom:.25rem;
}

/* Números grandes usados nas estatísticas (dashboard + perfil) */
.dashboard-stat-number{
  font-size:2rem;
  font-weight:700;
  letter-spacing:-0.01em;
}

/* Sub-linha animada na navbar (efeito de transição suave) */
nav .nav-wrapper ul.right li a::after{
  content:"";
  position:absolute;
  left:0;
  right:0;
  bottom:-10px;
  height:3px;
  background:var(--fh-primary);
  border-radius:2px;
  transform:scaleX(0);
  transform-origin:left center;
  transition:transform .25s ease;
}
nav .nav-wrapper ul.right li a:hover::after,
nav .nav-wrapper ul.right li a.nav-link-active::after{
  transform:scaleX(1);
}

/* Botões, chips e progresso */
.btn,
.btn-large,
.btn-small{
  border-radius:.75rem;
}
.btn,
.btn-large{
  background-color:var(--fh-primary);
  /* transição suave para hover/click */
  transition:
    transform .18s ease,
    box-shadow .18s ease,
    filter .18s ease;
  box-shadow:0 10px 22px rgba(45,220,154,.25);
}
.btn:hover,
.btn-large:hover{
  filter:brightness(.96);
  transform:translateY(-1px);
  box-shadow:0 16px 30px rgba(45,220,154,.35);
}
.btn:active,
.btn-large:active{
  transform:translateY(0);
  box-shadow:0 6px 16px rgba(45,220,154,.2);
  filter:brightness(.93);
}

/* Botão primário reutilizável (Dashboard + Formulário de Hábito)
   - Padroniza tipografia
   - Aplica animação de gradiente suave no fundo */
.btn-primary{
  font-family:'Inter','Manrope',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  font-weight:600;
  font-size:.95rem;
  letter-spacing:.08em;
  text-transform:uppercase;

  /* Gradiente suave em tons de verde FitHabit
     (animação lenta para não distrair o usuário) */
  background-image:linear-gradient(120deg,#22C781,#2DDC9A,#22C781);
  background-size:200% 200%;
  background-position:0% 50%;
  animation:fh-btn-gradient 6s ease-in-out infinite;
}
@keyframes fh-btn-gradient{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

.chip{background-color:rgba(45,220,154,.12);color:var(--fh-secondary);display:inline-flex;align-items:center;gap:.5rem;line-height:1;padding:.4rem .75rem}
.chip .material-icons,.chip .material-icons-round{color:var(--fh-primary)}
.progress{background:var(--fh-border);height:8px}
/* Barra preenchida com gradiente animado suave, sem alterar a largura */
.progress .determinate{
  background-image:linear-gradient(90deg,#22C781,#2DDC9A,#16A36A);
  background-size:200% 100%;
  background-position:0 0;
  animation:fh-progress-gradient 6s ease-in-out infinite;
}
@keyframes fh-progress-gradient{
  0%{background-position:0 0;}
  50%{background-position:100% 0;}
  100%{background-position:0 0;}
}

/* Cards */
.card{border-radius:12px;border:1px solid var(--fh-border);box-shadow:none}
.card.hoverable:hover{box-shadow:0 8px 24px rgba(10,36,25,.06)}
.eyebrow{font-size:.875rem;color:var(--fh-subtitle);margin:0 0 .5rem 0}

/* Container do gráfico de progresso de hábitos no dashboard */
.habits-chart-container{
  height:300px;
  min-height:260px;
}
@media (max-width: 992px){
  .habits-chart-container{
    height:260px;
  }
}
@media (max-width: 600px){
  .habits-chart-container{
    height:220px;
  }
}

/* Container do gráfico de relatórios (página Relatórios) */
.grafico-container,
.reports-chart-container{
  width:100%;
  max-width:100%;
  height:260px;
  border:1px solid var(--fh-theme-border, #E5E7EB);
  border-radius:12px;
  background:var(--fh-theme-bg-card, #FFFFFF);
  padding:12px;
  box-sizing:border-box;
}

.grafico-container canvas,
.reports-chart-container canvas{
  width:100% !important;
  max-width:100%;
  display:block;
  height:100%;
  box-sizing:border-box;
}

/* Inputs */
input[type=text],input[type=time],select{border-radius:.5rem}
input:focus,textarea:focus,select:focus{border-bottom:1px solid var(--fh-primary)!important;box-shadow:0 1px 0 0 var(--fh-primary)!important}

/* Tabela */
table.striped>tbody>tr:nth-child(odd){background:#F8FAFC}
table.highlight>tbody>tr:hover{background:rgba(45,220,154,.08)}

/* Estados */
.text-success{color:var(--fh-success)!important}
.text-warning{color:var(--fh-warning)!important}
.text-error{color:var(--fh-error)!important}
.text-info{color:var(--fh-info)!important}
.text-sub{color:var(--fh-subtitle)!important}

/* Skeleton */
.skeleton{position:relative;overflow:hidden;background:var(--fh-border);border-radius:.5rem}
.skeleton:after{content:"";position:absolute;inset:0;transform:translateX(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.5),transparent);animation:fh-shimmer 1.25s infinite}
@keyframes fh-shimmer{100%{transform:translateX(100%)}}

/* Mobile bottom navigation */
.mobile-bottom-nav{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid var(--fh-border);box-shadow:0 -4px 16px rgba(10,36,25,.06);z-index:999;padding:10px 0 calc(10px + env(safe-area-inset-bottom))}
.mobile-bottom-nav .mb-wrap{display:flex;justify-content:space-between;gap:8px}
.mobile-bottom-nav a{flex:1 1 auto;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;text-decoration:none;color:#0A2419;font-weight:600}
.mobile-bottom-nav a .material-icons,.mobile-bottom-nav a .material-icons-round{font-size:30px;line-height:1;display:block;color:#0A2419}
.mobile-bottom-nav a span{font-size:.9rem;line-height:1.2}
.mobile-bottom-nav a.active .material-icons,.mobile-bottom-nav a.active .material-icons-round{color:var(--fh-primary)}
.mobile-bottom-nav a.active{color:#0A2419}
@media (max-width:600px){ body{padding-bottom:88px} }

/* Mobile + Tablet: usar bottom nav até 1400px e esconder nav de desktop */
@media (min-width:601px) and (max-width:1400px){
  .mobile-bottom-nav.hide-on-med-and-up{
    display:block !important;
  }
  body{
    padding-bottom:88px;
  }

  /* Esconde navegação de desktop (tabs horizontais do topo) */
  nav .nav-wrapper .hide-on-med-and-down{
    display:none !important;
  }
}

/* Desktop grande: navbar única com blur na topbar, esconde bottom nav */
@media (min-width:1401px){
  .mobile-bottom-nav{
    display:none !important;
  }

  /* topbar vira a navbar única no desktop */
  .topbar.desktop-navbar{
    display:flex;
    align-items:center;
    justify-content:space-between;
    height:64px;
    padding:0 32px;

    /* fundo “invisível”: deixa a barra integrada ao fundo da página */
    background-color:transparent;
    backdrop-filter:none;
    -webkit-backdrop-filter:none;
    box-shadow:none;

    position:sticky;
    top:0;
    z-index:30;
  }

  /* remove título central no desktop; fica só logo + links + switch/avatar */
  .topbar.desktop-navbar .topbar-center,
  .topbar.desktop-navbar .topbar-title{
    display:none;
  }

  /* bloco esquerdo: logo + links */
  .topbar.desktop-navbar .topbar-left{
    display:flex;
    align-items:center;
    gap:32px;
    padding-left:0;
  }

  .desktop-nav-links{
    display:flex;
    align-items:center;
    gap:24px;
  }

  .desktop-nav-links .fh-nav-link{
    position:relative;
    color:#ffffff;
    font-weight:500;
    text-decoration:none;
  }

  .desktop-nav-links .fh-nav-link::after{
    content:"";
    position:absolute;
    left:0;
    right:0;
    bottom:-8px;
    height:3px;
    border-radius:999px;
    background:var(--fh-primary);
    transform:scaleX(0);
    transform-origin:left center;
    transition:transform .25s ease;
  }

  .desktop-nav-links .fh-nav-link:hover::after,
  .desktop-nav-links .fh-nav-link.nav-link-active::after{
    transform:scaleX(1);
  }

  /* bloco direito: switch + avatar já usam .topbar-right; só garantir alinhamento */
  .topbar.desktop-navbar .topbar-right{
    display:flex;
    align-items:center;
    gap:16px;
  }

  /* não precisamos mais da barra extra de navegação por UL no desktop */
  nav .nav-wrapper ul.right.hide-on-med-and-down{
    display:none;
  }
}

/* Ajustes específicos de TEMA para a navbar desktop (≥ 1401px) */
@media (min-width:1401px){
  /* Tema claro: usa exatamente o mesmo fundo do layout principal, sem sombra */
  :root:not([data-theme="dark"]) .topbar.desktop-navbar{
    background-color:var(--fh-theme-bg-main);
    box-shadow:none;
  }

  /* Tema escuro: mesmo fundo da página, também sem sombra */
  :root[data-theme="dark"] .topbar.desktop-navbar{
    background-color:var(--fh-theme-bg-main);
    box-shadow:none;
  }

  /* Garantir texto legível usando as cores já definidas do tema claro */
  :root:not([data-theme="dark"]) .desktop-nav-links .fh-nav-link{
    color:var(--fh-theme-nav-link);
  }
}

/* ------------------------------------------------------------------
   Sistema de temas (claro/escuro) baseado em variáveis CSS
   ------------------------------------------------------------------ */

/* Tema claro (padrão) */
:root{
  --fh-theme-bg-main:#F8FAFC;
  --fh-theme-bg-card:#FFFFFF;
  --fh-theme-bg-nav:#F8FAFC;
  --fh-theme-bg-mobile-nav:#FFFFFF;

  --fh-theme-text-primary:#0A2419;
  --fh-theme-text-secondary:#334155;
  --fh-theme-text-muted:#64748B;

  --fh-theme-border:#E5E7EB;
  --fh-theme-table-row-alt:#F8FAFC;
  --fh-theme-table-row-hover:rgba(45,220,154,.08);

  --fh-theme-nav-link:#0A2419;
  --fh-theme-nav-link-active:#0A2419;

  /* Fundo e borda para cards com efeito de vidro (perfil, etc.) */
  --fh-glass-bg:linear-gradient(135deg, rgba(255,255,255,0.9), rgba(226,232,240,0.75));
  --fh-glass-border:rgba(255,255,255,0.7);
  --fh-glass-shadow:rgba(15,23,42,0.16);
}

/* Tema escuro */
:root[data-theme="dark"]{
  --fh-theme-bg-main:#020617;
  --fh-theme-bg-card:#020617;
  --fh-theme-bg-nav:#020617;
  --fh-theme-bg-mobile-nav:#020617;

  --fh-theme-text-primary:#F9FAFB;
  --fh-theme-text-secondary:#E2E8F0;
  --fh-theme-text-muted:#94A3B8;

  --fh-theme-border:#1F2937;
  --fh-theme-table-row-alt:#020617;
  --fh-theme-table-row-hover:rgba(45,220,154,.14);

  --fh-theme-nav-link:#E2E8F0;
  --fh-theme-nav-link-active:#FFFFFF;

  /* Versão escura do efeito de vidro (mais translúcido e escuro) */
  --fh-glass-bg:linear-gradient(135deg, rgba(15,23,42,0.82), rgba(15,23,42,0.6));
  --fh-glass-border:rgba(148,163,184,0.45);
  --fh-glass-shadow:rgba(0,0,0,0.55);
}

/* Aplica variáveis de tema nos elementos principais */
body{
  background-color:var(--fh-theme-bg-main);
  color:var(--fh-theme-text-primary);
  transition:background-color .25s ease,color .25s ease;
}

nav.white, nav{
  background-color:var(--fh-theme-bg-nav)!important;
}
.nav-wrapper a{
  color:var(--fh-theme-nav-link)!important;
}
.mobile-page-title{
  color:var(--fh-theme-nav-link);
}

.card{
  background-color:var(--fh-theme-bg-card);
  border-color:var(--fh-theme-border);
}
.eyebrow,
.text-sub{
  color:var(--fh-theme-text-secondary)!important;
}

table.striped>tbody>tr:nth-child(odd){
  background:var(--fh-theme-table-row-alt);
}
table.highlight>tbody>tr:hover{
  background:var(--fh-theme-table-row-hover);
}

.mobile-bottom-nav{
  background:var(--fh-theme-bg-mobile-nav);
  border-top:1px solid var(--fh-theme-border);
}
.mobile-bottom-nav a{
  color:var(--fh-theme-nav-link);
}
.mobile-bottom-nav a .material-icons,
.mobile-bottom-nav a .material-icons-round{
  color:var(--fh-theme-nav-link);
}
.mobile-bottom-nav a.active{
  color:var(--fh-theme-nav-link-active);
}

/* Toggle de tema na navbar */
.theme-toggle{
  border:none;
  background:transparent;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:4px;
  cursor:pointer;
  padding:0 8px;
  height:64px;
  color:var(--fh-theme-nav-link);
  transition:color .2s ease,transform .15s ease;
}
.theme-toggle:hover{
  transform:translateY(-1px);
  color:var(--fh-primary);
}
.theme-toggle-icon{
  font-size:18px;
  line-height:1;
}
.theme-toggle-label{
  font-size:.9rem;
}

